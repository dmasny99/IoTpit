{
  "version": 1,
  "origin": "sandbox.rightech.io",
  "time": "2021-04-19T19:30:24.333Z",
  "user": "60490ec953072efc4bfd2268",
  "group": "60490ec953072efc4bfd2267",
  "store": "automatons",
  "data": {
    "_id": "607c2bd3e3ae1d0010cdeda9",
    "description": "",
    "models": [
      "60788d1d402c060010391944",
      "60796516402c06001039220a"
    ],
    "name": "Аэрогазовый контроль",
    "model": "60788d1d402c060010391944",
    "data": "{\"states\":{\"initial\":{\"data\":{\"type\":\"init\",\"id\":\"initial\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":100,\"left\":80}},\"final\":{\"data\":{\"type\":\"final\",\"id\":\"final\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":440,\"left\":120}},\"first\":{\"data\":{\"type\":\"state\",\"id\":\"first\",\"name\":\"Оценка показателей датчиков газов\",\"description\":\"\",\"onenter\":[],\"onexit\":[],\"width\":280,\"height\":180},\"position\":{\"top\":220,\"left\":400}},\"knn680y8\":{\"data\":{\"type\":\"state\",\"id\":\"knn680y8\",\"name\":\"Аэрогазовый контроль не пройден\",\"description\":\"\",\"height\":140,\"width\":220,\"onenter\":[{\"id\":\"ventilation_on\",\"name\":\"Включить вентиляцию\",\"targetsTo\":\"{{model1}}\",\"args\":{}},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"targetsTo\":\"{{model1}}\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}},\"expr\":{\"id\":\"expr\",\"value\":\"true\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}}}},{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"information\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Вентиляция включена\"}},\"targetsTo\":\"{{model1}}\"}],\"onexit\":[]},\"position\":{\"top\":480,\"left\":220}},\"knn6zz1r\":{\"data\":{\"type\":\"state\",\"id\":\"knn6zz1r\",\"name\":\"Аэрогазовый контроль пройден\",\"description\":\"\",\"onenter\":[{\"id\":\"ventilation_off\",\"name\":\"Выключить вентиляцию \",\"args\":{},\"targetsTo\":\"{{model1}}\"},{\"id\":\"send-push-message\",\"name\":\"Показать сообщение\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Вентиляция выключена\"}},\"targetsTo\":\"{{model1}}\"},{\"id\":\"change-value\",\"name\":\"Изменить значение\",\"args\":{\"read\":{\"id\":\"read\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}},\"expr\":{\"id\":\"expr\",\"value\":\"false\"},\"write\":{\"id\":\"write\",\"value\":{\"source\":\"state\",\"path\":\"ventilation\"}}},\"targetsTo\":\"{{model1}}\"}],\"height\":140,\"width\":220,\"onexit\":[]},\"position\":{\"top\":580,\"left\":900}}},\"transitions\":{\"0\":{\"drawMode\":\"rou\",\"points\":[{\"x\":100,\"y\":100},{\"x\":260,\"y\":100},{\"x\":260,\"y\":100},{\"x\":420,\"y\":100},{\"x\":420,\"y\":160},{\"x\":420,\"y\":160},{\"x\":420,\"y\":200}],\"data\":{\"id\":\"0\",\"name\":\"Инициализация логики\",\"description\":\"Событие, возникающее при запуске интерпретации модели логики\",\"event\":\"init\",\"owner\":{\"id\":\"initial\",\"point\":{\"location\":\"right\",\"id\":0}},\"target\":{\"id\":\"first\",\"point\":{\"location\":\"top\",\"id\":1}},\"blockKey\":\"cb-0\",\"targetIndex\":-1,\"autoDescription\":false,\"eventParameters\":{},\"targetsTo\":null},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"0\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"0\"],\"height\":6,\"width\":11,\"position\":{\"x\":16,\"y\":2}},\"key\":\"cb-0\"}},\"knn69dju\":{\"drawMode\":\"rou\",\"points\":[{\"x\":380,\"y\":300},{\"x\":340,\"y\":300},{\"x\":340,\"y\":320},{\"x\":300,\"y\":320},{\"x\":300,\"y\":280},{\"x\":300,\"y\":240},{\"x\":260,\"y\":240},{\"x\":260,\"y\":460}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":4,\"location\":\"left\"}},\"target\":{\"id\":\"knn680y8\",\"point\":{\"id\":2,\"location\":\"top\"}},\"id\":\"knn69dju\",\"blockKey\":\"cb-knn69dju\",\"autoDescription\":true,\"event\":\"es-recive-device-data\",\"name\":\"Получены данные\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\",\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"oxygen\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"20\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"sulfurous\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"38\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"hydrogen_sulfide\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"70\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"methane\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"1\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more-equal\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"oxygen\\\"] <= 20\\n || object[\\\"state\\\"][\\\"sulfurous\\\"] >= 38\\n || object[\\\"state\\\"][\\\"hydrogen_sulfide\\\"] >= 70\\n || object[\\\"state\\\"][\\\"methane\\\"] >= 1\",\"description\":\"Выполнить переход если: Параметр \\\"Кислород\\\" <= 20 Или Параметр \\\"Сернистый газ\\\" >= 38 Или Параметр \\\"Сероводород\\\" >= 70 Или Параметр \\\"Метан\\\" >= 1\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knn69dju\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knn69dju\"],\"width\":8,\"height\":3,\"position\":{\"x\":11,\"y\":13}},\"key\":\"cb-knn69dju\"}},\"knn6zvdu\":{\"drawMode\":\"rou\",\"points\":[{\"x\":440,\"y\":540},{\"x\":480,\"y\":540},{\"x\":480,\"y\":440},{\"x\":480,\"y\":440},{\"x\":480,\"y\":400}],\"data\":{\"owner\":{\"id\":\"knn680y8\",\"point\":{\"id\":3,\"location\":\"right\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":4,\"location\":\"bottom\"}},\"id\":\"knn6zvdu\",\"blockKey\":\"cb-knn6zvdu\",\"autoDescription\":true,\"event\":\"immediate-transition\",\"name\":\"Мгновенный переход\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knn6zvdu\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knn6zvdu\"],\"width\":8,\"height\":3,\"position\":{\"x\":23,\"y\":25}},\"key\":\"cb-knn6zvdu\"}},\"knn70fr3\":{\"drawMode\":\"rou\",\"points\":[{\"x\":680,\"y\":280},{\"x\":740,\"y\":280},{\"x\":740,\"y\":260},{\"x\":780,\"y\":260},{\"x\":780,\"y\":420},{\"x\":1000,\"y\":420},{\"x\":1000,\"y\":560}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":3,\"location\":\"right\"}},\"target\":{\"id\":\"knn6zz1r\",\"point\":{\"id\":5,\"location\":\"top\"}},\"id\":\"knn70fr3\",\"blockKey\":\"cb-knn70fr3\",\"autoDescription\":true,\"event\":\"es-recive-device-data\",\"name\":\"Получены данные\",\"description\":\"Выполнить переход если: Параметр \\\"Кислород\\\" > 20 Или Параметр \\\"Сернистый газ\\\" < 38 Или Параметр \\\"Сероводород\\\" < 70 Или Параметр \\\"Метан\\\" < 1\",\"eventParameters\":{},\"targetIndex\":0,\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"oxygen\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"20\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"sulfurous\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"38\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"hydrogen_sulfide\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"70\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"methane\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"1\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"or\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"oxygen\\\"] > 20\\n || object[\\\"state\\\"][\\\"sulfurous\\\"] < 38\\n || object[\\\"state\\\"][\\\"hydrogen_sulfide\\\"] < 70\\n || object[\\\"state\\\"][\\\"methane\\\"] < 1\",\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knn70fr3\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knn70fr3\"],\"width\":8,\"height\":3,\"position\":{\"x\":35,\"y\":12}},\"key\":\"cb-knn70fr3\"}},\"knn73owj\":{\"drawMode\":\"rou\",\"points\":[{\"x\":880,\"y\":640},{\"x\":820,\"y\":640},{\"x\":820,\"y\":500},{\"x\":760,\"y\":500},{\"x\":760,\"y\":460},{\"x\":620,\"y\":460},{\"x\":620,\"y\":400}],\"data\":{\"owner\":{\"id\":\"knn6zz1r\",\"point\":{\"id\":3,\"location\":\"left\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":11,\"location\":\"bottom\"}},\"id\":\"knn73owj\",\"blockKey\":\"cb-knn73owj\",\"autoDescription\":true,\"event\":\"immediate-transition\",\"name\":\"Мгновенный переход\",\"eventParameters\":{},\"targetIndex\":0,\"targetsTo\":\"{{model0}}\"},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"knn73owj\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"knn73owj\"],\"width\":8,\"height\":3,\"position\":{\"x\":34,\"y\":24}},\"key\":\"cb-knn73owj\"}}}}"
  }
}